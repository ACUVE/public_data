<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>2015-2016年冬 旅行計画</title>
<style>
html
{
    font-size: small;
    background-color: #fcfcfc:
}
table
{
    text-align: center;
    width: 100%;
    mergin: 0 auto;
    box-sizing: border-box;
    border-collapse: collapse;
}
table tr:hover
{
    background-color: #ff9;
}
table td:hover
{
    background-color: #ff0;
}
table .sta
{
    width: 8em;
}
table .arr, table .dep
{
    width: 3em;
}
</style>
<script>
var first_flag = true;
var color = function(){
    var now = Date.now();
    var tables = document.querySelectorAll( 'table' );
    [].forEach.call( tables, function( t ){
        if( !t.dataset.date )
            return;
        var date = new Date( t.dataset.date );
        if( !date.getYear() )
            return;
        var y, m, d;
        var ld;
        var newYMD = function( date ){
            y = date.getFullYear();
            m = date.getMonth();
            d = date.getDate();
            ld = date;
        };
        var lc = null;
        newYMD( date );
        [].forEach.call( t.rows, function( r ){
            var hit = false;
            [].forEach.call( r.cells, function( c ){
                var match = c.innerHTML.match(/\s*(\d?\d)(\d\d)\s*/);
                if( !match )
                    return;
                var nd = new Date( y, m, d, match[ 1 ] - 0, match[ 2 ] - 0, 59, 999 );
                if( nd.getTime() < ld.getTime() )
                    nd = new Date( y, m, d + 1, match[ 1 ] - 0, match[ 2 ] - 0, 59, 999 );
                if( ld.getTime() < now && now <= nd.getTime() )
                {
                    c.style.backgroundColor = "#fcc";
                    hit = true;
                }
                else
                    c.style.backgroundColor = "";
                if( first_flag && lc )
                {
                    var diff_time_in_minute = (nd.getTime() - ld.getTime()) / (60 * 1000);
                    lc.addEventListener( 'click', function(){
                        alert( diff_time_in_minute + "分" );
                    } );
                }
                newYMD( nd );
                lc = c;
            } );
            if( hit )
            {
                r.style.backgroundColor = "#fee";
                r.id = "now";
            }
            else
            {
                r.style.backgroundColor = "";
                r.id = "";
            }
        } );
    } );
    first_flag = false;
};
addEventListener( 'DOMContentLoaded', color );
addEventListener( 'DOMContentLoaded', function(){
    setInterval( color, 5000 );
} );
</script>
<h1>2015-2016年冬 旅行計画</h1>
<h2>0日目,1日目,2日目</h2>
<table data-date="2015-12-30">
<colgroup class="sta">
<colgroup class="arr">
<colgroup class="dep">
<colgroup class="memo">
<tr><td>駒込<td><td>2202<td>
<tr><td>新宿<td>2219<td>2231<td>
<tr><td>小田原<td>004<td>031<td>
<tr><td>大垣<td>551<td>556<td>
<tr><td>米原<td>629<td>650<td>
<tr><td>敦賀<td>736<td>743<td>
<tr><td>東舞鶴<td>934<td>946<td>
<tr><td>福知山<td>1029<td>1107<td>
<tr><td>篠山口<td>1210<td>1216<td>
<tr><td>尼崎<td>1315<td>1333<td>
<tr><td>木津<td>1454<td>1456<td>
<tr><td>奈良<td>1505<td>1515<td>
<tr><td>王寺<td>1621<td>1704<td>
<tr><td>和歌山<td>1919<td>1943<td>
<tr><td>和歌山市<td>1950<td>1959<td>
<tr><td>和歌山<td>2006<td>2010<td>
<tr><td>日根野<td>2034<td>2038<td>
<tr><td>関西空港<td>2048<td>2212<td>
<tr><td>天王寺<td>2300<td>2309<td>西九条方面
<tr><td>大阪<td>2330<td>2336<td>
<tr><td>京都<td>022<td>051<td>
<tr><td>稲荷<td>056<td>257<td>稲荷大社
<tr><td>奈良<td>352<td>419<td>
<tr><td>新今宮<td>511<td>512<td>
<tr><td>西九条<td>523<td>544<td>
<tr><td>桜島<td>552<td>609<td>
<tr><td>西九条<td>616<td>617<td>
<tr><td>天王寺<td>628<td><td>
<tr><td>天王寺駅前<td><td>718<td>
<tr><td>住吉公園<td>735<td><td>
<tr><td colspan="3">--ダッシュ--<td>住吉公園744発
<tr><td>住吉<td><td>749<td>
<tr><td>浜寺駅前<td>823<td><td>
<tr><td colspan="3">--ダッシュ--<td>
<tr><td>東羽衣<td><td>839<td>
<tr><td>鳳<td>842<td>847<td>
<tr><td>和歌山<td>942<td>945<td>
<tr><td>御坊<td>1055<td>1058<td>
<tr><td>西御坊<td>1106<td>1140<td>
<tr><td>御坊<td>1148<td>1156<td>
<tr><td>紀伊田辺<td>1239<td>1314<td>
<tr><td>串本<td>1440<td><td>
<tr><td>串本駅<td><td>1543<td>
<tr><td>潮岬観光タワー<td>1602<td>1752<td>1658日の入り@和歌山市
<tr><td>串本駅<td>1809<td>1840<td>
<tr><td>紀伊田辺<td>2002<td><td>
</table>
<p>コミックバスター優悦館和歌山田辺店 泊</p>
<h2>3日目</h2>
<table data-date="2015-12-02">
<colgroup class="sta">
<colgroup class="arr">
<colgroup class="dep">
<colgroup class="memo">
<tr><td>紀伊田辺<td><td>619<td>
<tr><td>串本<td>751<td><td>
<tr><td>串本駅<td><td>755<td>
<tr><td>雨島<td>833<td><td>
<tr><td colspan="3">--ダッシュ--<td>
<tr><td>和深<td><td>905<td>
<tr><td>新宮<td>1040<td>1052<td>
<tr><td>多気<td>1418<td>1434<td>
<tr><td>名古屋<td>1603<td>1700<td>きしめん
<tr><td>豊橋<td>1754<td>1803<td>
<tr><td>浜松<td>1837<td>1849<td>
<tr><td>静岡<td>2000<td>2002<td>
<tr><td>熱海<td>2122<td>2127<td>
<tr><td>小田原<td>2148<td>2150<td>
<tr><td>東京<td>2302<td>2305<td>
<tr><td>上野<td>2310<td>2338<td>
<tr><td>宇都宮<td>125<td><td>
</table>
<p>コミックバスター 宇都宮駅東店 泊</p>
<h2>4日目</h2>
<table data-date="2015-12-03">
<colgroup class="sta">
<colgroup class="arr">
<colgroup class="dep">
<colgroup class="memo">
<tr><td>宇都宮<td><td>518<td>
<tr><td>黒磯<td>609<td>622<td>
<tr><td>福島<td>825<td>900<td>
<tr><td>仙台<td>1013<td>1040<td>
<tr><td>小牛田<td>1125<td>1135<td>
<tr><td>一ノ関<td>1221<td>1226<td>
<tr><td>盛岡<td>1402<td>1422<td>
<tr><td>大曲<td>1650<td>1747<td>
<tr><td>横手<td>1805<td>1833<td>
<tr><td>北上<td>2005<td>2014<td>
<tr><td>一ノ関<td>2054<td><td>
</table>
<p>自遊空間 一関店 泊</p>
<h2>5日目</h2>
<table data-date="2015-12-04">
<colgroup class="sta">
<colgroup class="arr">
<colgroup class="dep">
<colgroup class="memo">
<tr><td>一ノ関<td><td>718<td>
<tr><td>気仙沼<td>844<td>856<td>
<tr><td>柳津<td>1052<td>1130<td>
<tr><td>前谷地<td>1151<td>1154<td>
<tr><td>女川<td>1249<td>1320<td>
<tr><td>石巻<td>1347<td>1358<td>
<tr><td>仙台<td>1503<td>1514<td>
<tr><td>高城町<td>1546<td>1607<td>
<tr><td>あおば通<td>1650<td>1654<td>
<tr><td>仙台<td>1655<td>1701<td>
<tr><td>福島<td>1822<td>1850<td>
<tr><td>黒磯<td>2045<td>2052<td>
<tr><td>宇都宮<td>2144<td>2147<td>
<tr><td>上野<td>2338<td>2345<td>
<tr><td>駒込<td>2355<td><td>
</table>
